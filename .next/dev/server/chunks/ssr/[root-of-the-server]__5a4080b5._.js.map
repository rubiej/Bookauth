{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/James/bookauthnew/bookauth/pages/index.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nexport default function Home() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [mode, setMode] = useState(\"login\"); // or \"register\"\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const endpoint = mode === \"login\" ? \"/login\" : \"/register\";\r\n\r\n    const res = await fetch(`http://localhost:3001${endpoint}`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ username, password }),\r\n    });\r\n\r\n    const data = await res.json();\r\n    if (data.token) {\r\n      localStorage.setItem(\"token\", data.token);\r\n      router.push(\"/dashboard\");\r\n    } else {\r\n      alert(data.message || \"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n      <form onSubmit={handleSubmit} className=\"bg-white p-6 rounded shadow-md w-80\">\r\n        <h2 className=\"text-xl font-bold mb-4\">{mode === \"login\" ? \"Login\" : \"Register\"}</h2>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          className=\"w-full mb-2 p-2 border\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          className=\"w-full mb-4 p-2 border\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button className=\"w-full bg-blue-500 text-white p-2 rounded\">\r\n          {mode === \"login\" ? \"Login\" : \"Register\"}\r\n        </button>\r\n        <p className=\"mt-4 text-sm text-center\">\r\n          {mode === \"login\" ? \"No account?\" : \"Already registered?\"}{\" \"}\r\n          <span\r\n            className=\"text-blue-500 cursor-pointer\"\r\n            onClick={() => setMode(mode === \"login\" ? \"register\" : \"login\")}\r\n          >\r\n            {mode === \"login\" ? \"Register\" : \"Login\"}\r\n          </span>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC,UAAU,gBAAgB;IAC3D,MAAM,SAAS,IAAA,oIAAS;IAExB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,WAAW,SAAS,UAAU,WAAW;QAE/C,MAAM,MAAM,MAAM,MAAM,CAAC,qBAAqB,EAAE,UAAU,EAAE;YAC1D,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAU;YAAS;QAC5C;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,KAAK,KAAK,EAAE;YACd,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,OAAO,IAAI,CAAC;QACd,OAAO;YACL,MAAM,KAAK,OAAO,IAAI;QACxB;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAK,UAAU;YAAc,WAAU;;8BACtC,qKAAC;oBAAG,WAAU;8BAA0B,SAAS,UAAU,UAAU;;;;;;8BACrE,qKAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,WAAU;oBACV,OAAO;oBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;8BAE7C,qKAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,WAAU;oBACV,OAAO;oBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;8BAE7C,qKAAC;oBAAO,WAAU;8BACf,SAAS,UAAU,UAAU;;;;;;8BAEhC,qKAAC;oBAAE,WAAU;;wBACV,SAAS,UAAU,gBAAgB;wBAAuB;sCAC3D,qKAAC;4BACC,WAAU;4BACV,SAAS,IAAM,QAAQ,SAAS,UAAU,aAAa;sCAEtD,SAAS,UAAU,aAAa;;;;;;;;;;;;;;;;;;;;;;;AAM7C","debugId":null}}]
}